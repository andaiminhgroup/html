<!DOCTYPE html>
<html lang="vi-VN" xml:lang="vi" xmlns="andaiminh.com">

<head>
    <title>svg-encoder</title>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href='//fonts.googleapis.com/css?family=Roboto:100,100i,300,400,600,700,800i,900&amp;subset=latin-ext,greek-ext,cyrillic-ext,greek,vietnamese,latin,cyrillic' rel='stylesheet' type='text/css' />
    <link href='//cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css' rel='stylesheet' type='text/css'/>
      <style>
        .box_category, .list-container{display:none;visibility:hidden}
        .options__text{border-bottom:1px dashed;color:#ff942e}
        .options__input:checked + .options__text{border:0;color:inherit;cursor:default}
        .contrast-button--current{box-shadow:0 0 0 3px #ff942e} 
    </style>
</head>
<body>
    <main class="relative md:bg-gray-100 md:rounded-3xl md:overflow-hidden z-10">
                  <div class="relative px-0 md:px-2 py-3 flex flex-wrap items-center justify-center md:justify-start">                
<button class='inline-flex items-center my-4 mr-4 px-4 py-2 border border-dashed border-purple-800 text-base leading-6 font-medium rounded-md text-purple-800 hover:text-white bg-purple-50 hover:bg-purple-800 transition-colors ease-in-out duration-500 cursor-pointer z-10 button-example' type='button'>Thí dụ</button>
<button class='inline-flex items-center my-4 mr-4 px-4 py-2 border border-dashed border-purple-800 text-base leading-6 font-medium rounded-md text-purple-800 hover:text-white bg-purple-50 hover:bg-purple-800 transition-colors ease-in-out duration-500 cursor-pointer z-10' type="button" name="clear-btn" onclick="clearTextarea()">Clear</button>
                <button class="inline-flex items-center my-4 px-4 py-2 border border-dashed border-purple-800 text-base leading-6 font-medium rounded-md text-purple-800 hover:text-white bg-purple-50 hover:bg-purple-800 transition-colors ease-in-out duration-500 cursor-pointer z-10">
                    <label>
                        <input type="radio" value="single" name="quotes" class="options__input w-0 h-0 whitespace-nowrap overflow-hidden"/>
                        <span class="options__text inline-block cursor-pointer">Single</span>
                    </label>
                    <span class="align-middle text-yellow-500 px-px">/</span>
                    <label>
                        <input type="radio" value="double" name="quotes" class="options__input w-0 h-0 whitespace-nowrap overflow-hidden" checked=""/>
                        <span class="options__text inline-block cursor-pointer">Double</span>
                    </label>
                  </button>
          </div>
                  <div class="relative flex flex-wrap items-start justify-center">
                    <div class="w-full md:w-1/2 px-0 md:px-2 py-3">
				<div class="bg-purple-800 border-4 border-purple-300 border-solid rounded-2xl overflow-hidden z-10">
                <textarea class="w-full h-60 p-3 bg-transparent text-indigo-50 text-base text-left overflow-x-auto cursor-pointer" name="init" id="init" spellcheck="false" onblur='this.placeholder = &apos;Chèn SVG của bạn vào đây&apos;' onfocus='this.placeholder = &apos;Chèn SVG của bạn vào đây&apos;' placeholder='Chèn SVG của bạn vào đây'></textarea>
                </div>
                    </div>
                    <div class="w-full md:w-1/2 px-0 md:px-2 py-3">
				<div class="bg-purple-800 border-4 border-purple-300 border-solid rounded-2xl overflow-hidden z-10">
                      <textarea class="w-full h-60 p-3 bg-transparent text-indigo-50 text-base text-left overflow-x-auto cursor-pointer" name="result" id="result" spellcheck="false" onblur='this.placeholder = &apos;SVG được mã hóa. Bạn có thể đặt SVG được mã hóa tại đây để giải mã lại!&apos;' onfocus='this.placeholder = &apos;SVG được mã hóa. Bạn có thể đặt SVG được mã hóa tại đây để giải mã lại!&apos;' placeholder='SVG được mã hóa. Bạn có thể đặt SVG được mã hóa tại đây để giải mã lại!'></textarea>
                  </div>
                    </div>
                  </div>
                  <div class="relative flex flex-wrap items-start justify-center">
                    <div class="w-full md:w-1/2 px-0 md:px-2 py-3">
				<div class="bg-purple-800 border-4 border-purple-300 border-solid rounded-2xl overflow-hidden z-10">
                      <textarea class="w-full h-60 p-3 bg-transparent text-indigo-50 text-base text-left overflow-x-auto cursor-pointer" name="result-css" id="result-css" spellcheck="false" onblur='this.placeholder = &apos;Sẵn sàng cho CSS&apos;' onfocus='this.placeholder = &apos;Sẵn sàng cho CSS&apos;' placeholder='Sẵn sàng cho CSS'></textarea>
                  </div>
                    </div>
                    <div class="w-full md:w-1/2 px-0 md:px-2 py-3">
                <div class="bg-color bg-white border-4 border-yellow-500 border-dashed rounded-2xl overflow-hidden">
                    <div id="demo" class="w-full h-60 bg-no-repeat"></div>
                </div>
                <div class="relative flex flex-wrap items-center justify-center my-4 px-0 md:px-2 py-3 border border-dashed border-purple-800 text-base leading-6 font-medium rounded-xl text-purple-800 transition-colors ease-in-out duration-500 z-10">
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-white whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="white" title="White">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-gray-400 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="silver" title="Silver">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-purple-900 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="indigo" title="indigo">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-black whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="black" title="Black">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-green-700 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="green" title="green">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-pink-300 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="pink" title="pink">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-red-600 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="red" title="red">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-yellow-500 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="orange" title="orange">
                    </button>
                    <button type="button" class="contrast-button block mx-1 w-8 h-8 bg-blue-900 whitespace-nowrap border border-yellow-500 border-solid rounded-full outline-none overflow-hidden" data-color="navy" title="navy">
                    </button>
                </div>
             </div>
          </div> 
    </main>
                <div class="relative flex flex-wrap items-center justify-center my-4 border border-solid border-purple-800 rounded-xl overflow-hidden transition-colors ease-in-out duration-500 z-10">
                  <div class="w-2/12 px-0 md:px-2 py-3 bg-purple-800 text-base text-center leading-6 font-medium rounded-l-lg text-white"><i class="fab fa-github"> Github</i>
                    </div>
                    <div class="w-10/12 px-0 md:px-2 py-3 text-base text-center leading-6 font-medium rounded-l-lg text-purple-800">
                      </div>
  </div> 
 <script type='text/javascript'>
const doc = document;

const initTextarea = doc.querySelector(`#init`);
const resultTextarea = doc.querySelector(`#result`);
const resultCssTextarea = doc.querySelector(`#result-css`);
const resultDemo = doc.querySelector(`#demo`);
const demoWrapper = doc.querySelector(`.bg-color`);
const contrastButtons = doc.querySelectorAll(`.contrast-button`);
let contrastButtonCurrent = null;
let backgroundColor = ``;

const symbols = /[\r\n%#()<>?[\\\]^`{|}]/g;

const quotesInputs = document.querySelectorAll(`.options__input`);
let externalQuotesValue = document.querySelector(`.options__input:checked`).value;
let quotes = getQuotes();

const buttonExample = document.querySelector(`.button-example`);

// Textarea Actions
// ----------------------------------------

initTextarea.oninput = function () {
  getResults();
};

resultTextarea.oninput = function () {
  const value = resultTextarea.value.trim()
    .replace(/background-image:\s{0,}url\(/, ``)
    .replace(/["']{0,}data:image\/svg\+xml,/, ``)
    .replace(/["']\);{0,}$/, ``);
  initTextarea.value = decodeURIComponent(value);
  getResults();
};

function getResults () {
  if (!initTextarea.value) {
    resultCssTextarea.value = ``;
    resultDemo.setAttribute(`style`, ``);
    return;
  }

  const namespaced = addNameSpace(initTextarea.value);
  const escaped = encodeSVG(namespaced);
  resultTextarea.value = escaped;
  const resultCss = `background-image: url(${quotes.level1}data:image/svg+xml,${escaped}${quotes.level1});`;
  resultCssTextarea.value = resultCss;
  resultDemo.setAttribute(`style`, resultCss);
}

// Switch quotes
// ----------------------------------------

quotesInputs.forEach(input => {
  input.addEventListener(`input`, function () {
    externalQuotesValue = this.value;
    quotes = getQuotes();
    getResults();
  });
});

// Set example
// ----------------------------------------

buttonExample.addEventListener(`click`, () => {
  initTextarea.value = `<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56">
  <defs>
    <style>
      .cls-1 {
        fill: #ed1c25;
      }
    </style>
  </defs>
  <title>andaiminh-logo-setting</title>
  <g>
    <path class="cls-1" d="M1.75,35H7.49l1,3L4,42.51A1.76,1.76,0,0,0,4,45l7,7a1.76,1.76,0,0,0,2.48,0L18,47.5l3,1v5.74A1.75,1.75,0,0,0,22.75,56h10.5A1.75,1.75,0,0,0,35,54.25V48.51l3-1L42.51,52A1.76,1.76,0,0,0,45,52l7-7a1.76,1.76,0,0,0,0-2.48L47.5,38l1-3h5.74A1.75,1.75,0,0,0,56,33.25V22.75A1.75,1.75,0,0,0,54.25,21H48.51l-1-3L52,13.49A1.76,1.76,0,0,0,52,11L45,4a1.76,1.76,0,0,0-2.48,0L38,8.5l-3-1V1.75A1.75,1.75,0,0,0,33.25,0H22.75A1.75,1.75,0,0,0,21,1.75V7.49l-3,1L13.49,4A1.76,1.76,0,0,0,11,4L4,11a1.76,1.76,0,0,0,0,2.48L8.5,18l-1,3H1.75A1.75,1.75,0,0,0,0,22.75v10.5A1.75,1.75,0,0,0,1.75,35ZM3.5,24.5H8.75a1.75,1.75,0,0,0,1.66-1.2l1.75-5.25a1.74,1.74,0,0,0-.42-1.79l-4-4,4.52-4.52,4,4a1.74,1.74,0,0,0,1.79.42l5.25-1.75a1.75,1.75,0,0,0,1.2-1.66V3.5h7V8.75a1.75,1.75,0,0,0,1.2,1.66L38,12.16a1.74,1.74,0,0,0,1.79-.42l4-4,4.52,4.52-4,4a1.74,1.74,0,0,0-.42,1.79l1.75,5.25a1.75,1.75,0,0,0,1.66,1.2H52.5v7H47.25a1.75,1.75,0,0,0-1.66,1.2L43.84,38a1.74,1.74,0,0,0,.42,1.79l4,4-4.52,4.52-4-4A1.74,1.74,0,0,0,38,43.84L32.7,45.59a1.75,1.75,0,0,0-1.2,1.66V52.5h-7V47.25a1.75,1.75,0,0,0-1.2-1.66l-5.25-1.75a1.75,1.75,0,0,0-1.79.42l-4,4L7.73,43.75l4-4A1.74,1.74,0,0,0,12.16,38L10.41,32.7a1.75,1.75,0,0,0-1.66-1.2H3.5Z"/>
    <path class="cls-1" d="M28,35a7,7,0,1,0-7-7A7,7,0,0,0,28,35Zm0-10.5A3.5,3.5,0,1,1,24.5,28,3.5,3.5,0,0,1,28,24.5Z"/>
  </g>
</svg>`;
  getResults();
});

// Demo Background Switch
// ----------------------------------------

function contrastButtonsSetCurrent (button) {
  const classCurrent = `contrast-button--current`;

  if (contrastButtonCurrent) {
    contrastButtonCurrent.classList.remove(classCurrent);
  }

  backgroundColor = button.dataset.color;
  contrastButtonCurrent = button;
  button.classList.add(classCurrent);
}

contrastButtons.forEach(button => {
  if (!backgroundColor) {
    contrastButtonsSetCurrent(button);
  }

  button.addEventListener(`click`, function () {
    contrastButtonsSetCurrent(this);
    demoWrapper.style.background = backgroundColor;
  });
});

// Namespace
// ----------------------------------------

function addNameSpace (data) {
  if (data.indexOf(`http://www.w3.org/2000/svg`) < 0) {
    data = data.replace(/<svg/g, `<svg xmlns=${quotes.level2}http://www.w3.org/2000/svg${quotes.level2}`);
  }

  return data;
}

// Encoding
// ----------------------------------------

function encodeSVG (data) {
  // Use single quotes instead of double to avoid encoding.
  if (externalQuotesValue === `double`) {
    data = data.replace(/"/g, `'`);
  } else {
    data = data.replace(/'/g, `"`);
  }

  data = data.replace(/>\s{1,}</g, `><`);
  data = data.replace(/\s{2,}/g, ` `);

  // Using encodeURIComponent() as replacement function
  // allows to keep result code readable
  return data.replace(symbols, encodeURIComponent);
}

// Get quotes for levels
// ----------------------------------------

function getQuotes () {
  const double = `"`;
  const single = `'`;

  return {
    level1: externalQuotesValue === `double` ? double : single,
    level2: externalQuotesValue === `double` ? single : double
  };
}

// eslint-disable-next-line no-unused-vars
function out (data) {
  console.log(data);
}
        // Clear
        //----------------------------------------    

        //use this
        function clearTextarea() {
                $('#init, #result, #result-css').val("");
            }
            // Or use this it gives the same result
        $(document).ready(function() {
            $('button[name="clear-btn"][type="button"]').on('click', function() {
                $('#init, #result, #result-css').val("");
            })
        }) < inp 
  </script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js' type='text/javascript'></script>
</body>

</html>
